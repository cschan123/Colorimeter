<!DOCTYPE html>
<html>
    
<head>
    <meta charset="utf-8">
    <!-- <meta http-equiv = "X-UA-Compatible" content = "IE=edge,chrome=1" /> -->
    <title>ECharts测试</title>
    <!-- 引入 echarts.js -->
    <script src="echarts.js"></script>
    <style type="text/css">
        html {border:0px; overflow:hidden;background-color:black}
        

    </style>
</head>
<body >
<div  id="container" style="width: 720px;height:380px;background-color:lightslategrey;" ></div>


<script>
    
</script>

<script type="text/javascript">

// window.console = window.console || (function () {
//     var c = {}; c.log = c.warn = c.debug = c.info = c.error = c.time = c.dir = c.profile
//     = c.clear = c.exception = c.trace = c.assert = function () { };
//     return c;
// })();




    var dom = document.getElementById("container");
    var myline2 = echarts.init(dom);
    option = null;

    //设置时间起点
    var startTime=[2012,11,11,11,1,1];
    var d=new Date();
    d.setFullYear(startTime[0]);
    d.setMonth(startTime[1]);
    d.setDate(startTime[2]);
    d.setHours(startTime[3]);
    d.setMinutes(startTime[4]);
    d.setSeconds(startTime[5]);
 
    var base = +d;
    //后台传递开始
    var oneDay = 1000;
    var date = [];
    var num = 0;

    var data_ay = [Math.random()];
    var data_by = [Math.random()];
    var data_Ly = [Math.random()];
    var data_Ey = [Math.random()];
    
    var data_aaa = [];
    
    //var data2 = [Math.random()];
  
 
    function accpetdata(data_L,data_a,data_b,data_E){
        
       
        //var data_aaa = [objArray];
        
        
        window.alert(data_L);
        window.alert(data_a);
        window.alert(data_b);
        window.alert(data_E);
    }


    var now = new Date(base);
    //添加数据到集合去
    function addData(shift) {
       // var tmp = [now.getFullYear(), now.getMonth() + 1, now.getDate()].join('/') + "\n" + [ now.getHours(),  now.getMinutes(),  now.getSeconds()].join(':');
        var tmp = [now.getSeconds()];
        //date.push(tmp);
        
        date.push(tmp);
        data_Ly.push((Math.random() - 1) +0.5);
        data_ay.push((Math.random() - 1) +0.5 );
        data_by.push((Math.random() - 1) +0.5);
        data_Ey.push((Math.random() - 0.4)  + 1);
        

        if (shift) {
            date.shift();
            data_Ly.shift();
            data_ay.shift();
            data_by.shift();
            data_Ey.shift();
            
            
        }
        now = new Date(+new Date(now) + oneDay);
    }
 
    for (var i = 1; i <= 20; i++) {
        num = num + 1;
        addData();
        
       
    }
 
    //var xcd='CUFen'
    option ={
        backgroundColor:[''],
        color:['#2D7FCC','#87314C'],
        tooltip: {
            show:true,
            //axis:'auto'
            trigger: 'item',
            backgroundcolor:'#333',
            axisPointer: {
                type: 'cross',
                axis:'auto',
                showContent:'true',
                color:'#555',
                
            },
        },
      
        legend: {
            x: 'right',
            //data:[xcd,'CUF'],
            textStyle:{
                color:"#FFFFFF",
                fontsize:5
            }
        },
        xAxis: [{
            gridIndex :0,
            axisLabel:{   
                show:false,
                textStyle:{
                    color:'#FFFFFF'
                },
                interval:0
            },
            axisLine: {
               
                lineStyle: {
                    color:'#F0FFFF'
                }
            }, 
            
            type: 'category',
            
            data: date
        },{
            
            gridIndex :1,
            axisLabel:{ 
                show:false,
                textStyle:{
                    color:'#FFFFFF'
                },
                interval:0
            },
            axisLine: {
                lineStyle: {
                    color:'#0B438B'
                }
            },
            type: 'category',
            
            data: date
        },{
            
            gridIndex :2,
            axisLabel:{ 
                show:false,
                textStyle:{
                    color:'#FFFFFF'
                },
                interval:0
            },
            axisLine: {
                lineStyle: {
                    color:'#0B438B'
                }
            },
            type: 'category',
            
            data: date
        },{
            gridIndex :3,
            axisLabel:{ 
                show:true,
                textStyle:{
                    color:'#FFFFFF'
                },
                interval:0
            },
            axisLine: {
                lineStyle: {
                    color:'#0B438B'
                }
            },
            type: 'category',
            
            data: date
        },
    ],
        yAxis: [{
            gridIndex:0,
            minInterval:1,
            splitLine:{
                show:false
            },
            axisLine: {
                lineStyle: {
                    color:'#0B438B'
                }
            },
            axisLabel: {
                textStyle: {
                    color: '#FFFFFF'
                }
            },
            boundaryGap: [0, '10%'],
            type: 'value'
        },{
            gridIndex:1,
            minInterval:1,
            splitLine:{
                show:true
            },
            axisLine: {
                lineStyle: {
                    color:'#0B438B'
                }
            },
            axisLabel: {
                textStyle: {
                    color: '#FFFFFF'
                }
            },
            boundaryGap: [0, '10%'],
            type: 'value'
        },{
            gridIndex:2,
            minInterval:1,
            splitLine:{
                show:true
            },
            axisLine: {
                lineStyle: {
                    color:'#0B438B'
                }
            },
            axisLabel: {
                textStyle: {
                    color: '#FFFFFF'
                }
            },
            boundaryGap: [0, '10%'],
            type: 'value'
        },{
            gridIndex:3,
            minInterval:1,
            splitLine:{
                show:true
            },
            axisLine: {
                lineStyle: {
                    color:'#0B438B'
                }
            },
            axisLabel: {
                textStyle: {
                    color: '#FFFFFF'
                }
            },
            boundaryGap: [0, '10%'],
            type: 'value'
        }
    
    ],
            
        grid:[{
						top:'5%',
						left: '3%',
						right: '5%',
						bottom: '76%'
					}, {
						top: '26%',
						left: '3%',
						right: '5%',
						bottom: '52%'
					},{
						top: '50%',
						left: '3%',
						right: '5%',
						bottom: '26%'
					},
					{
						top: '76%',
						left: '3%',
						right: '5%',
						bottom: '5%'
					}],
        series: [
            {
                barWidth:'50%',
                color: '#F0FFFF',
                type:'bar',
                data:data_Ly,
                xAxisIndex: 0,
				yAxisIndex: 0
            },
            {
                barWidth:'50%',
                color: '#DC143C',
                type:'bar',
                data:data_ay,
                xAxisIndex: 1,
				yAxisIndex: 1
            },
            {
                barWidth:'50%',
                color: '#FFFF00',
                type:'bar',
                data:data_by,
                xAxisIndex: 2,
				yAxisIndex: 2
            },
            {
                barWidth:'50%',
                color: '#00FA9A',
                type:'bar',
                data:data_Ey,
                xAxisIndex: 3,
				yAxisIndex: 3
            },
            
        ]
    };
    //设置定时获取
    setInterval(function () {
        addData(true);
        myline2.setOption({
            xAxis: [{
                data: date
                
            },{
                data: date
                
            },{
                data: date
                
            },
            {
                data: date
                
            }
        ],
            series: [
                {
                   
                    data: data_Ly
                },
                {
                    
                    data: data_ay
                },
                {
                    
                    data: data_by
                },
                {
                    
                    data: data_Ey
                },
            ]
        });
    }, 1000);

    if (option && typeof option === "object") {
        myline2.setOption(option, true);
    }

</script>
</body>
</html>